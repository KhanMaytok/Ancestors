# ACS.90041 - Ensure Unique characters
namespace = ACS

character_event = {
	id = ACS.90041
	is_triggered_only = yes
	hide_window = yes
	ai = no

    trigger = {
		OR = {
			multiplayer = no
			AND = {
				multiplayer = yes
				is_multiplayer_host_character = yes
			}
		}
	}

	immediate = {
		### Ensure only one Vee
		random_character = {
            limit = {            
                has_character_flag = is_vee
            }
            set_character_flag = dont_kill_at_purge
        }
        any_character = {
            limit = {
                has_character_flag = is_vee
                NOT = { has_character_flag = dont_kill_at_purge }
            }
			set_character_flag = dont_resucite
            death = { death_reason = death_poor_health }
        }
	}
}

character_event = {
	id = ACS.90042
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		any_playable_ruler = {
			limit = {
				ai = yes
				is_female = yes
			}
			death = { death_reason = death_poor_health }
		}
	}
}
